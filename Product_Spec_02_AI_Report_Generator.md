# Product Spec 02: AI 智能周报/日报生成引擎 (增强模块)

> **基于梁宁“真需求”理论分析**：虽然写周报是“痛点”（烦、耗时），但它更多是企业管理的“衍生需求”。因此，本产品定位为 **“职场提效工具”** 或 **“企业 AI 助手的增值插件”**，主打 **“爽点”**（一键生成，瞬间解脱）。

---

## 1. 产品定义 (Product Definition)

### 1.1 一句话描述 (Elevator Pitch)
把碎片化的工作记录（聊天记录、Git 提交、待办清单）一键转化为结构清晰、重点突出的专业周报/日报，让职场人从“写文档”中解脱出来。

### 1.2 核心价值主张 (Value Proposition)
* **痛点 (Pain)**：
	* **记忆模糊**：周五想不起周一干了什么，翻聊天记录翻半天。
	* **格式焦虑**：不知道怎么写才显得“有产出”，担心被领导觉得工作饱和度不够。
* **爽点 (Pleasure)**：
	* **垃圾进，黄金出**：扔进去一堆乱七八糟的流水账，出来一份排版精美、逻辑清晰的汇报。
	* **秒级完成**：以前写周报 30 分钟，现在 30 秒。
* **差异化竞争优势**：
	* 相比 **ChatGPT 网页版**：我们需要 Prompt 工程，且无法自动读取飞书/Git 数据。我们用 n8n 实现了**数据自动采集 + 深度思考优化**。
	* **私有化**：工作数据不上传到公有云，老板放心。

---

## 2. 用户画像 (User Persona)

### 2.1 核心用户 (大明 - 需求清晰)
* **角色 A：程序员/技术人员**
	* **特点**：工作内容琐碎（修 Bug、开会、改代码），不善言辞，讨厌写文档。
	* **诉求**：帮我把 Git Commit 和 Jira 任务自动变成人话。
* **角色 B：项目经理/团队 Lead**
	* **特点**：需要汇总下属的周报，再写一份总报。
	* **诉求**：自动摘要，提取风险点和进度条。

### 2.2 用户体验地图 (User Experience Map)

| 阶段       | 触点      | 用户情绪  | 现有土办法     | AI 产品机会点            |
| :------- | :------ | :---- | :-------- | :------------------ |
| **周五下午** | 闹钟提醒    | 烦躁/抗拒 | 翻微信记录、翻日历 | **自动触发，主动推送“本周素材”** |
| **撰写过程** | Word/文档 | 痛苦/卡壳 | 复制粘贴，流水账  | **基于模板，AI 自动润色与升华** |
| **提交汇报** | 邮件/IM   | 忐忑    | 担心写得不好    | **格式专业，自动高亮重点**     |
| **领导反馈** | 会议      | (无感)  | (无反馈)     | **AI 辅助生成“下周规划建议”** |

---

## 3. 场景与功能架构

### 3.1 核心场景
1.  **个人提效版**：
	*   用户在 Slack/微信/飞书 发送“#log 完成了登录页修复”，周五发送“生成周报”，AI 自动汇总。
2.  **团队管理版**：
	*   周五下午 5 点，Robot 自动抓取 Gitlab 提交记录 + Jira 完成单，为每个人生成草稿，推送到私聊。

### 3.2 技术架构 (The Stack)

```mermaid
graph TD
    Input[用户输入/Webhook] -->|Trigger| n8n[n8n Workflow]
    
    subgraph "n8n Processing Pipeline"
        n8n -->|1. Aggregate| Buffer[汇总本周数据]
        n8n -->|2. Think| OneAPI[OneAPI (DeepSeek)]
        n8n -->|3. Format| Markdown[生成 Markdown]
    end
    
    OneAPI -->|Prompting| System[角色: 资深项目经理]
    
    Markdown -->|Output| Email[发送邮件]
    Markdown -->|Output| IM[发送飞书/Slack]
    Markdown -->|Archive| Notion[存入 Notion]
```

---

## 4. 实施路线图 (Implementation Roadmap)

### Phase 1: MVP - 手动触发版 (已实现)
*   **功能**：用户手动把一周的流水账发给 Bot，Bot 返回整理好的周报。
*   **状态**：**已完成** (基于 n8n + DeepSeek)。
*   **验证**：自己试用，调整 Prompt 直到生成的语气像“资深员工”。

### Phase 2: 自动采集 - 懒人版
*   **目标**：减少用户主动输入的动作。
*   **实施**：接入 GitHub/GitLab Webhook 或 Trello/Jira API。
*   **逻辑**：有代码提交/任务完成时，自动记录到 n8n 的临时数据库（或 Notion），周五自动汇总。

### Phase 3: 团队集成 - SaaS 版
*   **目标**：卖给小团队。
*   **实施**：配置多用户支持，每个人有独立的日报/周报配置。生成团队维度的“周报汇总”。

---

## 5. 交付标准与物料清单

1.  **n8n Workflow JSON 文件**：
	*   `Weekly_Report_Generator_v1.json` (标准版)
	*   `Daily_Standup_Summary_v1.json` (日报版)
2.  **Prompt 库**：
	*   `System_Prompt_Senior_Manager.md` (用于生成汇报风格)
	*   `System_Prompt_Developer.md` (用于技术风格)
3.  **使用指南**：
	*   《如何向 AI 投喂素材才能写出满分周报》.pdf

---

## 6. 附录：为什么这是“次级需求”？

*   虽然**高频**（每周一次），但**付费意愿低于“客服”**。
*   因为它不直接带来收入（客服能留客），只节省内部时间。
*   **策略**：适合作为“买 AI 客服送周报工具”，或者作为低价引流产品（Hook Product）。
